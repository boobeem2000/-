<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ® Atsukoå¼ã‚¹ãƒ”ãƒ¼ã‚­ãƒ³ã‚°å†èµ·å‹•ã‚²ãƒ¼ãƒ </title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'ãƒ¡ã‚¤ãƒªã‚ª', 'Meiryo', 'Hiragino Sans', sans-serif;
            background: linear-gradient(135deg, #E8F5E8, #FFE4B5);
            min-height: 100vh;
            padding: 20px;
        }

        .game-container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .game-header {
            background: linear-gradient(135deg, #2E8B57, #4CAF50);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .game-header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: sparkle 3s ease-in-out infinite;
        }

        @keyframes sparkle {
            0%, 100% { transform: rotate(0deg) scale(1); }
            50% { transform: rotate(180deg) scale(1.1); }
        }

        .game-title {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }

        .game-subtitle {
            font-size: 1.2em;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }

        .progress-section {
            padding: 30px;
            background: #FFE4B5;
            border-bottom: 3px solid #FF8C00;
        }

        .progress-title {
            font-size: 1.5em;
            color: #FF8C00;
            margin-bottom: 20px;
            text-align: center;
        }

        .score-display {
            text-align: center;
            margin-bottom: 20px;
        }

        .score-number {
            font-size: 3em;
            font-weight: bold;
            color: #2E8B57;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .score-total {
            font-size: 1.2em;
            color: #666;
        }

        .progress-bar-container {
            background: #ddd;
            border-radius: 25px;
            height: 30px;
            margin: 20px 0;
            overflow: hidden;
            position: relative;
        }

        .progress-bar {
            background: linear-gradient(90deg, #2E8B57, #4CAF50);
            height: 100%;
            width: 0%;
            border-radius: 25px;
            transition: width 0.8s ease;
            position: relative;
            overflow: hidden;
        }

        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .level-up-message {
            background: linear-gradient(135deg, #FF8C00, #FFA500);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            font-size: 1.3em;
            font-weight: bold;
            margin: 20px 0;
            display: none;
            animation: bounce 0.6s ease;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }

        .missions-section {
            padding: 30px;
        }

        .mission-card {
            background: white;
            border: 2px solid #E8F5E8;
            border-radius: 15px;
            margin: 15px 0;
            padding: 20px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .mission-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            border-color: #2E8B57;
        }

        .mission-card.completed {
            background: linear-gradient(135deg, #E8F5E8, #F0FFF0);
            border-color: #4CAF50;
        }

        .mission-card.completed::before {
            content: 'âœ“';
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 2em;
            color: #4CAF50;
            animation: checkmark 0.5s ease;
        }

        @keyframes checkmark {
            0% { transform: scale(0); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .mission-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .mission-day {
            background: #2E8B57;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 1.1em;
        }

        .mission-title {
            font-size: 1.3em;
            font-weight: bold;
            color: #2E8B57;
            margin-bottom: 10px;
        }

        .mission-instruction {
            color: #666;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .english-example {
            background: #E6F3FF;
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #2E8B57;
            margin-bottom: 15px;
            font-style: italic;
            color: #2E8B57;
        }

        .mission-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 15px;
        }

        .reflection-input {
            flex: 1;
            padding: 10px;
            border: 2px solid #E8F5E8;
            border-radius: 8px;
            margin-right: 15px;
            font-family: inherit;
            transition: border-color 0.3s ease;
        }

        .reflection-input:focus {
            outline: none;
            border-color: #2E8B57;
        }

        .score-select {
            padding: 8px 15px;
            border: 2px solid #E8F5E8;
            border-radius: 8px;
            background: white;
            font-family: inherit;
            margin-right: 15px;
            transition: border-color 0.3s ease;
        }

        .score-select:focus {
            outline: none;
            border-color: #2E8B57;
        }

        .complete-btn {
            background: linear-gradient(135deg, #2E8B57, #4CAF50);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .complete-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(46, 139, 87, 0.3);
        }

        .complete-btn:active {
            transform: translateY(0);
        }

        .complete-btn.completed {
            background: linear-gradient(135deg, #4CAF50, #66BB6A);
        }

        .reward {
            background: #FFE4B5;
            padding: 10px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            color: #FF8C00;
            font-weight: bold;
            margin-top: 10px;
            display: inline-block;
        }

        .instructions-section {
            background: #F8F9FA;
            padding: 30px;
            border-top: 3px solid #2E8B57;
        }

        .instructions-title {
            font-size: 1.5em;
            color: #2E8B57;
            margin-bottom: 20px;
            text-align: center;
        }

        .instruction-item {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            border-left: 4px solid #2E8B57;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .celebration {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .celebration-content {
            background: white;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            animation: celebrationPop 0.6s ease;
        }

        @keyframes celebrationPop {
            0% { transform: scale(0); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .celebration-title {
            font-size: 2.5em;
            color: #FF8C00;
            margin-bottom: 20px;
        }

        .celebration-message {
            font-size: 1.2em;
            color: #2E8B57;
            margin-bottom: 30px;
        }

        .close-celebration {
            background: #2E8B57;
            color: white;
            border: none;
            padding: 10px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1em;
        }

        @media (max-width: 768px) {
            .game-title {
                font-size: 2em;
            }
            
            .mission-controls {
                flex-direction: column;
                gap: 10px;
            }
            
            .reflection-input,
            .score-select {
                margin-right: 0;
                margin-bottom: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <!-- Game Header -->
        <div class="game-header">
            <h1 class="game-title">ğŸ® Atsukoå¼ã‚¹ãƒ”ãƒ¼ã‚­ãƒ³ã‚°å†èµ·å‹•ã‚²ãƒ¼ãƒ </h1>
            <p class="game-subtitle">ã€œ7 Days to Restart Your English Voiceã€œ</p>
        </div>

        <!-- Progress Section -->
        <div class="progress-section">
            <h2 class="progress-title">ğŸ“Š é€²æ—çŠ¶æ³</h2>
            <div class="score-display">
                <div class="score-number" id="currentScore">0</div>
                <div class="score-total">/ 21ç‚¹</div>
            </div>
            <div class="progress-bar-container">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            <div class="level-up-message" id="levelUpMessage">
                ğŸ† LEVEL UP! ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼<br>
                ã‚ãªãŸã®è‹±èªã‚¹ãƒ”ãƒ¼ã‚­ãƒ³ã‚°ãŒå†èµ·å‹•ã—ã¾ã—ãŸï¼
            </div>
        </div>

        <!-- Missions Section -->
        <div class="missions-section">
            <h2 style="text-align: center; color: #2E8B57; margin-bottom: 30px; font-size: 1.8em;">ğŸ¯ 7æ—¥é–“ã®ãƒŸãƒƒã‚·ãƒ§ãƒ³</h2>
            
            <!-- Mission 1 -->
            <div class="mission-card" id="mission1">
                <div class="mission-header">
                    <div class="mission-day">Day 1</div>
                </div>
                <div class="mission-title">Restartãƒœã‚¿ãƒ³ã‚’æŠ¼ã›ï¼</div>
                <div class="mission-instruction">ã€Œä»Šé€±ã‹ã‚‰å†é–‹ã—ã¾ã™ã€ã¨è¨€ãŠã†</div>
                <div class="english-example">I am restarting my English journey today.</div>
                <div class="mission-controls">
                    <input type="text" class="reflection-input" placeholder="ä»Šæ—¥ã®æ°—ã¥ãã‚’è¨˜å…¥..." id="reflection1">
                    <select class="score-select" id="score1">
                        <option value="0">å¾—ç‚¹ã‚’é¸æŠ</option>
                        <option value="1">1ç‚¹ - æŒ‘æˆ¦ã—ãŸ</option>
                        <option value="2">2ç‚¹ - å°‘ã—ã§ããŸ</option>
                        <option value="3">3ç‚¹ - ã¾ã‚ã¾ã‚ã§ããŸ</option>
                        <option value="4">4ç‚¹ - ã‚ˆãã§ããŸ</option>
                        <option value="5">5ç‚¹ - å®Œç’§ï¼</option>
                    </select>
                    <button class="complete-btn" onclick="completeMission(1)">å®Œäº†</button>
                </div>
                <div class="reward">â˜• ã‚³ãƒ¼ãƒ’ãƒ¼ã”è¤’ç¾</div>
            </div>

            <!-- Mission 2 -->
            <div class="mission-card" id="mission2">
                <div class="mission-header">
                    <div class="mission-day">Day 2</div>
                </div>
                <div class="mission-title">3æ–‡ã‚¹ãƒˆãƒ¼ãƒªãƒ¼è·äºº</div>
                <div class="mission-instruction">æœã®å‡ºæ¥äº‹ã‚’3æ–‡ã§èªã‚Œ</div>
                <div class="english-example">I overslept, missed the bus, but smiled anyway.</div>
                <div class="mission-controls">
                    <input type="text" class="reflection-input" placeholder="ä»Šæ—¥ã®æ°—ã¥ãã‚’è¨˜å…¥..." id="reflection2">
                    <select class="score-select" id="score2">
                        <option value="0">å¾—ç‚¹ã‚’é¸æŠ</option>
                        <option value="1">1ç‚¹ - æŒ‘æˆ¦ã—ãŸ</option>
                        <option value="2">2ç‚¹ - å°‘ã—ã§ããŸ</option>
                        <option value="3">3ç‚¹ - ã¾ã‚ã¾ã‚ã§ããŸ</option>
                        <option value="4">4ç‚¹ - ã‚ˆãã§ããŸ</option>
                        <option value="5">5ç‚¹ - å®Œç’§ï¼</option>
                    </select>
                    <button class="complete-btn" onclick="completeMission(2)">å®Œäº†</button>
                </div>
                <div class="reward">ğŸŒˆ 5åˆ†æ—©ä¸ŠãŒã‚Š</div>
            </div>

            <!-- Mission 3 -->
            <div class="mission-card" id="mission3">
                <div class="mission-header">
                    <div class="mission-day">Day 3</div>
                </div>
                <div class="mission-title">ç¿»è¨³ç¦æ­¢ãƒãƒ£ãƒ¬ãƒ³ã‚¸</div>
                <div class="mission-instruction">æ—¥æœ¬èªã‚’ä½¿ã‚ãš"ã‚¤ãƒ¡ãƒ¼ã‚¸ã§è©±ã™"</div>
                <div class="english-example">My brain is still sleeping.</div>
                <div class="mission-controls">
                    <input type="text" class="reflection-input" placeholder="ä»Šæ—¥ã®æ°—ã¥ãã‚’è¨˜å…¥..." id="reflection3">
                    <select class="score-select" id="score3">
                        <option value="0">å¾—ç‚¹ã‚’é¸æŠ</option>
                        <option value="1">1ç‚¹ - æŒ‘æˆ¦ã—ãŸ</option>
                        <option value="2">2ç‚¹ - å°‘ã—ã§ããŸ</option>
                        <option value="3">3ç‚¹ - ã¾ã‚ã¾ã‚ã§ããŸ</option>
                        <option value="4">4ç‚¹ - ã‚ˆãã§ããŸ</option>
                        <option value="5">5ç‚¹ - å®Œç’§ï¼</option>
                    </select>
                    <button class="complete-btn" onclick="completeMission(3)">å®Œäº†</button>
                </div>
                <div class="reward">ğŸ« ãƒãƒ§ã‚³è§£ç¦</div>
            </div>

            <!-- Mission 4 -->
            <div class="mission-card" id="mission4">
                <div class="mission-header">
                    <div class="mission-day">Day 4</div>
                </div>
                <div class="mission-title">éŒ²éŸ³ã‚µãƒã‚¤ãƒãƒ¼</div>
                <div class="mission-instruction">è‡ªåˆ†ã®å£°ã‚’è´ã„ã¦è¤’ã‚ã‚‹</div>
                <div class="english-example">ï¼ˆè‡ªç”±ãƒˆãƒ”ãƒƒã‚¯ï¼‰</div>
                <div class="mission-controls">
                    <input type="text" class="reflection-input" placeholder="ä»Šæ—¥ã®æ°—ã¥ãã‚’è¨˜å…¥..." id="reflection4">
                    <select class="score-select" id="score4">
                        <option value="0">å¾—ç‚¹ã‚’é¸æŠ</option>
                        <option value="1">1ç‚¹ - æŒ‘æˆ¦ã—ãŸ</option>
                        <option value="2">2ç‚¹ - å°‘ã—ã§ããŸ</option>
                        <option value="3">3ç‚¹ - ã¾ã‚ã¾ã‚ã§ããŸ</option>
                        <option value="4">4ç‚¹ - ã‚ˆãã§ããŸ</option>
                        <option value="5">5ç‚¹ - å®Œç’§ï¼</option>
                    </select>
                    <button class="complete-btn" onclick="completeMission(4)">å®Œäº†</button>
                </div>
                <div class="reward">ğŸ¬ æ¨ã—å‹•ç”»10åˆ†</div>
            </div>

            <!-- Mission 5 -->
            <div class="mission-card" id="mission5">
                <div class="mission-header">
                    <div class="mission-day">Day 5</div>
                </div>
                <div class="mission-title">å¤±æ•—ãƒ’ãƒ¼ãƒ­ãƒ¼</div>
                <div class="mission-instruction">è‹±èªã§å¤±æ•—è«‡ã‚’èªã‚Œ</div>
                <div class="english-example">I said "I'm exciting" to my boss ğŸ˜…</div>
                <div class="mission-controls">
                    <input type="text" class="reflection-input" placeholder="ä»Šæ—¥ã®æ°—ã¥ãã‚’è¨˜å…¥..." id="reflection5">
                    <select class="score-select" id="score5">
                        <option value="0">å¾—ç‚¹ã‚’é¸æŠ</option>
                        <option value="1">1ç‚¹ - æŒ‘æˆ¦ã—ãŸ</option>
                        <option value="2">2ç‚¹ - å°‘ã—ã§ããŸ</option>
                        <option value="3">3ç‚¹ - ã¾ã‚ã¾ã‚ã§ããŸ</option>
                        <option value="4">4ç‚¹ - ã‚ˆãã§ããŸ</option>
                        <option value="5">5ç‚¹ - å®Œç’§ï¼</option>
                    </select>
                    <button class="complete-btn" onclick="completeMission(5)">å®Œäº†</button>
                </div>
                <div class="reward">ğŸ§˜â€â™€ï¸ å¤œãƒ¨ã‚¬</div>
            </div>

            <!-- Mission 6 -->
            <div class="mission-card" id="mission6">
                <div class="mission-header">
                    <div class="mission-day">Day 6</div>
                </div>
                <div class="mission-title">ä¸Šå¸ã«å ±å‘ŠãƒŸãƒƒã‚·ãƒ§ãƒ³</div>
                <div class="mission-instruction">"å ±å‘Šã™ã‚‹"ã¤ã‚‚ã‚Šã§è©±ã™</div>
                <div class="english-example">I checked the report. It's ready.</div>
                <div class="mission-controls">
                    <input type="text" class="reflection-input" placeholder="ä»Šæ—¥ã®æ°—ã¥ãã‚’è¨˜å…¥..." id="reflection6">
                    <select class="score-select" id="score6">
                        <option value="0">å¾—ç‚¹ã‚’é¸æŠ</option>
                        <option value="1">1ç‚¹ - æŒ‘æˆ¦ã—ãŸ</option>
                        <option value="2">2ç‚¹ - å°‘ã—ã§ããŸ</option>
                        <option value="3">3ç‚¹ - ã¾ã‚ã¾ã‚ã§ããŸ</option>
                        <option value="4">4ç‚¹ - ã‚ˆãã§ããŸ</option>
                        <option value="5">5ç‚¹ - å®Œç’§ï¼</option>
                    </select>
                    <button class="complete-btn" onclick="completeMission(6)">å®Œäº†</button>
                </div>
                <div class="reward">ğŸ› ãƒã‚¹ã‚½ãƒ«ãƒˆ</div>
            </div>

            <!-- Mission 7 -->
            <div class="mission-card" id="mission7">
                <div class="mission-header">
                    <div class="mission-day">Day 7</div>
                </div>
                <div class="mission-title">Final Questâœ¨</div>
                <div class="mission-instruction">"I am deserved to do it"ã‚’èªã‚‹</div>
                <div class="english-example">I feel ready to speak English anytime.</div>
                <div class="mission-controls">
                    <input type="text" class="reflection-input" placeholder="ä»Šæ—¥ã®æ°—ã¥ãã‚’è¨˜å…¥..." id="reflection7">
                    <select class="score-select" id="score7">
                        <option value="0">å¾—ç‚¹ã‚’é¸æŠ</option>
                        <option value="1">1ç‚¹ - æŒ‘æˆ¦ã—ãŸ</option>
                        <option value="2">2ç‚¹ - å°‘ã—ã§ããŸ</option>
                        <option value="3">3ç‚¹ - ã¾ã‚ã¾ã‚ã§ããŸ</option>
                        <option value="4">4ç‚¹ - ã‚ˆãã§ããŸ</option>
                        <option value="5">5ç‚¹ - å®Œç’§ï¼</option>
                    </select>
                    <button class="complete-btn" onclick="completeMission(7)">å®Œäº†</button>
                </div>
                <div class="reward">ğŸ‘ è‡ªåˆ†ã«æ‹æ‰‹</div>
            </div>
        </div>

        <!-- Instructions Section -->
        <div class="instructions-section">
            <h2 class="instructions-title">ğŸ“– ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ« & ä½¿ã„æ–¹</h2>
            <div class="instruction-item">
                <strong>ğŸ¯ ã‚²ãƒ¼ãƒ ã‚³ãƒ³ã‚»ãƒ—ãƒˆ</strong><br>
                ã€ŒåŠªåŠ›ã€ã§ã¯ãªãã€Œå†’é™ºã€â”€â”€å­¦ç¿’ã‚’"RPG"åŒ–ã™ã‚‹
            </div>
            <div class="instruction-item">
                <strong>ğŸ® éŠã³æ–¹</strong><br>
                1. æ¯æ—¥1ã¤ã®ãƒŸãƒƒã‚·ãƒ§ãƒ³ã«æŒ‘æˆ¦<br>
                2. è‹±èªã§è©±ã™ä¾‹ã‚’å‚è€ƒã«ã€å®Ÿéš›ã«å£°ã«å‡ºã—ã¦ç·´ç¿’<br>
                3. å®Œäº†ã—ãŸã‚‰ã€Œä»Šæ—¥ã®æ°—ã¥ãã€æ¬„ã«æ„Ÿæƒ³ã‚’è¨˜å…¥<br>
                4. å¾—ç‚¹ã‚’å…¥åŠ›ï¼ˆ1-5ç‚¹ã§è‡ªå·±è©•ä¾¡ï¼‰<br>
                5. ã”ã»ã†ã³ã‚’è‡ªåˆ†ã«ä¸ãˆã¦ãã ã•ã„ï¼<br>
                6. 7æ—¥é–“å®Œäº†ã§LEVEL UPé”æˆï¼
            </div>
            <div class="instruction-item">
                <strong>ğŸ’¡ æˆåŠŸã®ã‚³ãƒ„</strong><br>
                â€¢ å®Œç’§ã‚’æ±‚ã‚ãšã€æ¥½ã—ã‚€ã“ã¨ã‚’æœ€å„ªå…ˆã«<br>
                â€¢ å°ã•ãªæˆåŠŸã‚’ç©ã¿é‡ã­ã‚‹ã“ã¨ãŒå¤§åˆ‡<br>
                â€¢ å¤±æ•—ã‚‚å­¦ç¿’ã®ä¸€éƒ¨ã¨ã—ã¦å—ã‘å…¥ã‚Œã‚‹<br>
                â€¢ æ¯æ—¥ç¶šã‘ã‚‹ã“ã¨ã§ç¿’æ…£åŒ–ã‚’ç›®æŒ‡ã™<br>
                â€¢ è‡ªåˆ†ã‚’è¤’ã‚ã‚‹ã“ã¨ã‚’å¿˜ã‚Œãšã«ï¼
            </div>
        </div>
    </div>

    <!-- Celebration Modal -->
    <div class="celebration" id="celebration">
        <div class="celebration-content">
            <div class="celebration-title">ğŸ† LEVEL UP!</div>
            <div class="celebration-message">
                ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼<br>
                ã‚ãªãŸã®è‹±èªã‚¹ãƒ”ãƒ¼ã‚­ãƒ³ã‚°ãŒå†èµ·å‹•ã—ã¾ã—ãŸï¼
            </div>
            <button class="close-celebration" onclick="closeCelebration()">ç´ æ™´ã‚‰ã—ã„ï¼</button>
        </div>
    </div>

    <script>
        let completedMissions = 0;
        let totalScore = 0;

        function completeMission(missionNumber) {
            const missionCard = document.getElementById(`mission${missionNumber}`);
            const scoreSelect = document.getElementById(`score${missionNumber}`);
            const button = missionCard.querySelector('.complete-btn');
            
            const score = parseInt(scoreSelect.value);
            
            if (score === 0) {
                alert('å¾—ç‚¹ã‚’é¸æŠã—ã¦ãã ã•ã„ï¼');
                return;
            }

            // Mark as completed
            missionCard.classList.add('completed');
            button.textContent = 'å®Œäº†æ¸ˆã¿';
            button.classList.add('completed');
            button.disabled = true;
            
            // Update score
            totalScore += score;
            completedMissions++;
            
            // Update display
            updateProgress();
            
            // Check for level up
            if (totalScore >= 21) {
                setTimeout(() => {
                    showCelebration();
                }, 1000);
            }
        }

        function updateProgress() {
            document.getElementById('currentScore').textContent = totalScore;
            
            const progressBar = document.getElementById('progressBar');
            const percentage = (totalScore / 21) * 100;
            progressBar.style.width = percentage + '%';
            
            if (totalScore >= 21) {
                document.getElementById('levelUpMessage').style.display = 'block';
            }
        }

        function showCelebration() {
            document.getElementById('celebration').style.display = 'flex';
            
            // Add confetti effect
            createConfetti();
        }

        function closeCelebration() {
            document.getElementById('celebration').style.display = 'none';
        }

        function createConfetti() {
            const colors = ['#2E8B57', '#4CAF50', '#FF8C00', '#FFA500'];
            
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.style.position = 'fixed';
                confetti.style.width = '10px';
                confetti.style.height = '10px';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.top = '-10px';
                confetti.style.borderRadius = '50%';
                confetti.style.pointerEvents = 'none';
                confetti.style.zIndex = '1001';
                
                document.body.appendChild(confetti);
                
                const animation = confetti.animate([
                    { transform: 'translateY(0px) rotate(0deg)', opacity: 1 },
                    { transform: `translateY(${window.innerHeight + 100}px) rotate(720deg)`, opacity: 0 }
                ], {
                    duration: 3000,
                    easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'
                });
                
                animation.onfinish = () => confetti.remove();
            }
        }

        // Initialize
        updateProgress();
    </script>
</body>
</html>









